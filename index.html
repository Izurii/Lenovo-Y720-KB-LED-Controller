<!doctype html>
<html ng-app="app">

<head>
	<meta charset="utf-8">
	<title>Lenovo Y720 Keyboard Controller</title>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.2.1/angular-material.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<style>
		.keys {
			height: 35px !important;
			border-radius: 5px;
			margin: 5px;
			text-align: center;
		}

		.not-selectable {
			user-select: none;
			-moz-user-select: none;
			-khtml-user-select: none;
			-webkit-user-select: none;
			-o-user-select: none;
		}

		.mode-icon {
			max-height: 70px;
			border: 1px solid #9a9a9a54;
		}
	</style>
</head>

<body>
	<md-content layout="row" layout-padding style="background-color: #2A2A2A;" ng-controller="indexController" tabIndex="-1" role="main">
		<div
			layout-align="center center"
			layout-padding
			layout="column"
			style="width:100%; margin: 10px; background-color: #2A2A2A;"
			md-whiteframe="5dp"
			flex
		>
			<div layout="row">
				<div layout="column">
					<div ng-repeat="row in keyboard" layout="row" flex>
						<div ng-repeat="key in keyboard[$index]" ng-click="selectSegment($parent.$index, $index, 'k')"
							layout-align="center center" layout="column"
							ng-bind-html="getKey(key, $parent.$index, $index, 'k')" style="outline: none !important;">
						</div>
					</div>
				</div>
				<div layout="column">
					<div ng-repeat="row in numpad" layout="row"
						ng-style="{'align-self': ({{$index}}==4 || {{$index}}==5)? 'center':'none'}" flex>
						<div ng-repeat="key in numpad[$index]" ng-click="selectSegment($parent.$index, $index, 'n')"
							layout-align="center center" layout="column"
							ng-bind-html="getKey(key, $parent.$index, $index, 'n')" style="outline: none !important;">
						</div>
					</div>
				</div>
			</div>
			<div layout="row">
				<div layout="row">
					<md-input-container ng-show="!advancedBrightness">
						<md-select ng-change="changeAllSegmentBrightness()" ng-model="selectedBrightness"
							style="background-color: white;">
							<md-option ng-value="0">OFF</md-option>
							<md-option ng-value="1">LOW</md-option>
							<md-option ng-value="2">MEDIUM</md-option>
							<md-option ng-value="3">HIGH</md-option>
							<md-option ng-value="4">ULTRA</md-option>
							<md-option ng-value="5">ENOUGH</md-option>
						</md-select>
					</md-input-container>
					<div layout="row" ng-show="advancedBrightness">
						<div ng-repeat="segment in segmentsOptions">
							<md-input-container>
								<md-select ng-change="applySettings()" ng-model="segmentsOptions[$index].segmentBrightness" style="background-color: white;">
									<md-option ng-value="0">OFF</md-option>
									<md-option ng-value="1">LOW</md-option>
									<md-option ng-value="2">MEDIUM</md-option>
									<md-option ng-value="3">HIGH</md-option>
									<md-option ng-value="4">ULTRA</md-option>
									<md-option ng-value="5">ENOUGH</md-option>
								</md-select>
							</md-input-container>
						</div>
					</div>
					<md-button ng-click="showHideAdvancedBrightnessOptions()">
						{{advancedBrightness ? 'Hide advanced brightness options' : 'Show advanced brightness options'}}
					</md-button>
				</div>
			</div>
		</div>
		<div
			layout-align="center center"
			layout-padding
			style="max-width: 23%; min-width:75px; background-color: #3a3a3a;"
			flex
		>
			<div layout="row" layout-align="center center" layout-wrap flex>
				<div ng-repeat="color in colors" layout="column" flex="20" style="margin: 5px;">
					<div
						style="height:40px !important; width:40px !important; border: #FFFFFF; position: relative;"
						ng-style="{'background-color':'{{color.colorHex}}', 'border':'3px solid rgb(255 255 255 / 85%)'}"
						ng-click="selectSegmentColor($index)"
					>
						<div layout="row" layout-align="center center" ng-show="checkSelectedSegmentColor($index)"
							style="width: 100%; height: 100%; background: rgba(0,0,0,0.65); z-index: 2; position: absolute;">
							<md-icon style="height:auto; width:auto; font-size:35px; color: green;">done</md-icon>
						</div>
						<hr ng-if="color.colorName.toLowerCase()=='black'" style="
								border: none;
								border-left: 3px solid rgb(255,0,0);
								margin-block: -6px;
								margin-inline: 1.2em;
								height: 133%;
								width: 1px;
								transform: rotate(45deg);
								z-index: 1;
								position: relative;
							">
					</div>
				</div>
			</div>
			<div layout="row" layout-align="center center" layout-margin layout-wrap flex>
				<div
					ng-repeat="modes in backlightModeIcons"
					ng-click="changeBacklightMode($index)"
					ng-bind-html="getModeIcon($index)"
					style="outline: none !important;"
				>
				</div>
			</div>
		</div>
	</md-content>
	<script src="app.js"></script>
</body>
</html>